해킹을 공부하는데 있어서 가장 기본이 되는 것은 바로 이 "셸(shell)"이다

먼저 셸에 대해 자세히 살펴보기전 간단하게 셸의 정의를 말하자면 셸은 명령줄(CLI)와 상호작용하기 위해 사용하는 것이다

쉽게 설명하자면 리눅스에선 bash, 윈도우에선 cmd나 powershell을 말하는 것이다

원격 시스템을 공격할 때 우리의 목표는 앞서 설명하였던 이 셸이라는 것을 획득하는 것이다

 

이를 위한 두가지 기법이 있다

1. 리버스 셸 - 대상 서버가 우리에게 연결해오도록 만드는 방식

2. 바인드 셸 - 대상 서버에 포트를 열어두고 우리가 연결하는 방식

 

리버스 셸을 획득하거나 바인드 셸을 구축할 때 사용할 수 있는 도구들은 다양하다

하지만 기본적으로 필요한 것은 두 가지다

바로 대상 시스템에서 실행될 셸 코드(페이로드)와 생성된 셸에 접속할 수 있는 인터페이스 도구다

각각에 대해 아래에서 간단히 살펴보자

 

첫번째론 "netcat"이다

netcat은 네트워킹 분야에서 전통적으로 사용되는 툴이며 다양한 네트워크 작업을 수동으로 수행 가능하다

예를 들자면 정보 수집 단계에서의 배너그래빙이나 우리가 앞서 봤던 리버스 셸을 수신하거나 바인드 셸을 연결할 수 있다

하지만 netcat은 매우 불안정하기 때문에 다양한 기법들을 통하여 안정성을 향상 시켜야 한다

 

두번째론 "socat"이다

socat은 단순하게 netcat의 상위 호환이라고 생각하면 된다

왜냐하면 netcat의 기능을 포함하여 그 이상의 것 까지 가능하기 때문이다

특히 socat으로 생성한 셸은 netcat보다 훨씬 안정적이기 때문에 이런한 점에선 necat보다 훨씬 뛰어나다고 할 수 있다

하지만 socat은 문법이 복잡하며 netcat처럼 리눅스에 기본적으로 깔려 있지 않기 때문에 socat을 활용하려면 이러한 문제점들을 감수해야 한다

 

세번째로는 Metasploit 프레임워크의 "exploit/multi/handler" 모듈이다

이 모듈은 Socat이나 Netcat처럼 리버스 셸을 수신하는 데 사용된다.

또한 Metasploit 프레임워크의 일부인 만큼, multi/handler는 안정적인 셸을 획득하는 데 필요한 모든 기능을 갖추고 있으며, 획득한 셸을 개선할 수 있는 다양한 옵션까지 제공한다.

 

네번째로는 Msfvenom이다

Msfvenom은 multi/handler처럼 Metasploit 프레임워크의 일부지만, 별도의 독립 도구로도 사용할 수 있다.

하지만 Msfvenom의 주요 기능은 페이로드를 즉석에서 생성하는 것이다. 리버스 셸과 바인드 셸뿐만 아니라 다양한 종류의 페이로드를 만들 수 있다

 

이 외에도 다양한 도구들이 있지만 오늘은 여기까지 설명하도록 하겠다

